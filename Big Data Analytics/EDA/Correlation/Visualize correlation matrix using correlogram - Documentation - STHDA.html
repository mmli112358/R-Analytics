<!DOCTYPE html>
<html lang="en">
	<head>
		<title>Visualize correlation matrix using correlogram - Documentation - STHDA</title>
		<meta charset="iso-8859-1" />
		
		<meta name="keywords" content="R, statistics, graph, data analysis, training courses in R genomics, sequencing, microarray, gene expression." />
		<meta name="generator" content="PHPBoost 4.0" />
		
		
		<!-- Theme CSS -->
		
		<link rel="stylesheet" href="/english/cache/css/css-cache-7921c200b2f09b704d0a1d0ad31fc770.css" type="text/css" media="screen, print, handheld" />
		
		
		<!-- Modules CSS -->
		<link rel="stylesheet" href="/english/cache/css/css-cache-e4be9317e570757e9bba0c4ca228015c.css" type="text/css" media="screen, print, handheld" />

		
		<link rel="shortcut icon" href="/english/logo_mini.png" type="image/png" />
		
		
				<script>
		<!--
			var PATH_TO_ROOT = "/english";
			var TOKEN = "1c414bad7bba161b";
			var THEME = "sthda";
			var LANG = "english";
		-->
		</script>
		<script src="/english/kernel/lib/js/top.js"></script>
        
         <!--inclusion de jquery ‡ partir de google si internet et sinon chargement local -->
		<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js" ></script>
		
        <script>window.jQuery || document.write('<script src="/english/sthda/js/jquery-1.11.1.min.js"><\/script>')</script>
        <script>jQuery.noConflict();  // Use jQuery via jQuery(...)</script>
        <!-- Cookies reglementation europÈenne -->
        <!-- Begin Cookie Consent plugin by Silktide - http://silktide.com/cookieconsent -->
		<script type="text/javascript">
		    window.cookieconsent_options = {"message":"This website uses cookies to ensure you get the best experience on our website.","dismiss":"OK!","learnMore":"More info","link":"https://www.google.com/policies/technologies/cookies/","theme":"light-top"};
		</script>
		<script type="text/javascript" src="//s3.amazonaws.com/cc.silktide.com/cookieconsent.latest.min.js"></script>
		<!-- End Cookie Consent plugin -->

	</head>

	<body itemscope="itemscope" itemtype="http://schema.org/WebPage">
			
	<header id="header">
		<div id="top-header">
			<div id="site-infos" >
				<div id="site-logo" style="background: url('/english/images/customization/all_logo_80.png') no-repeat;"></div>
				<div id="site-name-container">
					<a id="site-name" href="/english/">STHDA</a>
                    <span style="color:white; font-size:12px;">
                        <!-- Langue -->
                        <a href="http://www.sthda.com/french" style="color:white;"> 
                                <img src="/english/images/stats/countries/fr.png" class="valign_middle" style="width:15px;"/></a> 
                        <a href="http://www.sthda.com/english" style="color:white;">
                            <img src="/english/images/stats/countries/uk.png" class="valign_middle" style="width:15px;"/></a>
                    </span>
					<span id="site-slogan">Statistical tools for high-throughput data analysis</span>
				</div>
                
                
	<script>
	<!--
	function check_connect()
	{
		if( document.getElementById('login').value == "" )
		{
			alert("Please enter a nickname !");
			return false;
		}
		if( document.getElementById('password').value == "" )
		{
			alert("Please enter a password !");
			return false;
		   }
	}
	-->
	</script>


	
	<div id="connect-menu">
		<div class="horizontal-fieldset">
			<ul class="connect-content">
				<li><a href="https://www.facebook.com/1570814953153056" class="facebook" target="_blank">
                	<i class="fa fa-facebook"></i><span>Facebook</span></a></li>
				<!--<li><a href="https://twitter.com/"><i class="fa fa-twitter"></i><span>Twitter</span></a></li>-->
				<li><a href="https://plus.google.com/108962828449690000520" rel="publisher" class="google" target="_blank">
                	<i class="fa fa-google-plus"></i><span>Google+</span></a></li>
				<li><a href="/english/user/connect/" class="small"> <i class="fa fa-sign-in"></i> <span>Log in</span></a></li>
				
				<li><a href="/english/user/registration/" class="small"> <i class="fa fa-pencil"></i> <span>Sign up</span></a></li>
				
			</ul>
		</div>
	</div>
    
	

                
			</div>
			
		</div>
		<div id="sub-header">
            <div style="max-width: 940px; margin:auto;;">
            <div id="navigation-menu" >
                    <span><a href="/english/"><i class="fa fa-home"></i>&nbsp;HOME</a></span>
                    <span><a href="/english/download/category-7+ebooks.php"><i class="fa fa-folder-open"></i>&nbsp;BOOKS</a></span>
                    <span><a href="/english/wiki/r-software"><i class="fa fa-area-chart"></i>&nbsp;R/STATISTICS</a></span>
                    <span><a href="/english/rsthda"><i class="fa fa-cogs"></i>&nbsp;WEB APPLICATIONS</a></span>
                    <span><a href="/english/contact/"><i class="fa fa-envelope"></i>&nbsp;CONTACT</a></span>
            </div>
            
            
<!-- google search -->

   <div style="height:30px; margin-top:2px;">
       <form action="http://www.sthda.com/english/googlesearch/result.php" id="cse-search-box">
          <div>
            <input type="hidden" name="cx" value="partner-pub-5474463749888038:6267345768" />
            <input type="hidden" name="cof" value="FORID:10" />
            <input type="hidden" name="ie" value="UTF-8" />
            <input type="text" name="q" size="55" />
            <input type="submit" name="sa" value="Search" class="submitBtn" />
          </div>
        </form>
        
        <script type="text/javascript" src="http://www.google.com/coop/cse/brand?form=cse-search-box&amp;lang=en"></script>
    </div>
      
 <!-- End google search -->
 
 <style>
.submitBtn {
	height: auto;
	padding: 4px;
	color: #333333;
	text-align: center;
	text-shadow: 0 1px 1px rgba(255, 255, 255, 0.1);
	background-image: linear-gradient(to bottom,  rgba(255,255,255,0.18) 0%, rgba(56,56,56,0.10) 100%);
	background-color: #F9F9F9;
	border: 1px solid #CCCCCC;
	border-color: #E1E1E1 #E1E1E1 #BFBFBF #CFCFCF;
	border-radius: 4px;
	box-shadow: inset 0 0 0 rgba(255, 255, 255, 0.2), 0 0px 2px rgba(0, 0, 0, 0.05);
	color: #FEFEFE;
	background-color: #3B6B9F;
	border-color: #366393;
}
.submitBtn{cursor:pointer;}
</style>
            
                
            </div>
		</div>
		<div class="spacer"></div>
	</header>
	
	<div id="global">
		
		
		
		
		
		
		<div id="main" role="main">
			
			<div id="main-content" itemprop="mainContentOfPage">
            
            
            	<div style="width:100%;height:15px; background-color:white; margin-left:2px; margin-bottom:10px;">
                    <!-- Adsense  Link -->
                    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
                    <!-- liens_728X15 -->
                    <ins class="adsbygoogle"
                         style="display:inline-block;width:728px;height:15px"
                         data-ad-client="ca-pub-5474463749888038"
                         data-ad-slot="3453480168"></ins>
                    <script>
                    (adsbygoogle = window.adsbygoogle || []).push({});
                    </script>
                </div>
        
        
        
				
<menu id="actions-links-menu" class="dynamic-menu right">
	<ul>
		<li><a><i class="fa fa-cog"></i></a>
			<ul>
				
					<li ><a href="/english/wiki/wiki.php">Home</a>
	
</li>
				
					<li ><a href="/english/wiki/explorer.php">Explorer</a>
	
</li>
				
			</ul>
		</li>
	</ul>
</menu>

				<nav id="breadcrumb" itemprop="breadcrumb">
					<ol>
						<li itemscope itemtype="http://data-vocabulary.org/Breadcrumb">
							<a href="/english/" title="Home" itemprop="url">
								<span itemprop="title">Home</span>
							</a>
						</li>
						
							<li itemscope itemtype="http://data-vocabulary.org/Breadcrumb" >
								
								<a href="wiki.php" title="Documentation" itemprop="url">
									<span itemprop="title">Documentation</span>
								</a>
								
							</li>
						
							<li itemscope itemtype="http://data-vocabulary.org/Breadcrumb" >
								
								<a href="r-software" title="R software" itemprop="url">
									<span itemprop="title">R software</span>
								</a>
								
							</li>
						
							<li itemscope itemtype="http://data-vocabulary.org/Breadcrumb" >
								
								<a href="correlation" title="Correlation" itemprop="url">
									<span itemprop="title">Correlation</span>
								</a>
								
							</li>
						
							<li itemscope itemtype="http://data-vocabulary.org/Breadcrumb"  class="current" >
								
								<span itemprop="title">Visualize correlation matrix using correlogram</span>
								
							</li>
						
					</ol>
				</nav>
				
     <style>
	 /*link color*/
	  a{color:#0053F9;} .wiki a:hover{color:red!important;}
     </style>
       
       <div class="wiki">
       
        <article>
            
			<header>
				<h1>
					<a href="/english/syndication/rss/wiki/18" title="Syndication" class="fa fa-syndication"></a>
					Visualize correlation matrix using correlogram
				</h1>
			</header>
            
           
            
            
			<div class="content">
						<div style="margin-bottom:10px;">
			<menu class="dynamic-menu right group">
				<ul>
				
					<li>
						<a href="property.php?idcom=65&amp;com=0"><i class="fa fa-comments-o"></i> Discussion (2)</a>
					</li>
				
					<li>
						<a><i class="fa fa-cog"></i> Tools</a>
						<ul>

							

							<!--
							AK: Inactivation historique/duplicated content
							<li><a href="../wiki/history.php?id=65" title="History">
								<i class="fa fa-reply"></i> History
							</a> 
							</li>
							-->
						

							
							
								
								
								
								
								
								
								
								
							
							
							
								<!--
								 AK print
								<li><a href="../wiki/print.php?id=65" title="Printable version">
									<i class="fa fa-print"></i> Printable version
								</a></li>
							   -->
							
						</ul>
					</li>
				</ul>
			</menu>
		</div>
		<div  class="spacer" style="margin-top:15px;">&nbsp;</div>
				
				
				
				
				
				
				
				
                
                <br/><br/>


                <div id ="sticky-parent">
                
                	 <!--side bar -->
                    <div  style="float:left; width:300px; min-height:700px; text-align:center;" >
                        <div id="aksidebar">

                        <!-- Adsense -->
                        <div>
                        	<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
                            <!-- 300X600 -->
                            <ins class="adsbygoogle"
                                 style="display:inline-block;width:300px;height:600px"
                                 data-ad-client="ca-pub-5474463749888038"
                                 data-ad-slot="6825748964"></ins>
                            <script>
                            (adsbygoogle = window.adsbygoogle || []).push({});
                            </script>

                         </div>


                         <br/><br/>
                         <div>
                            <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
                            <!-- lien_200X90 -->
                            <ins class="adsbygoogle"
                                 style="display:inline-block;width:200px;height:90px"
                                 data-ad-client="ca-pub-5474463749888038"
                                 data-ad-slot="7994647366"></ins>
                            <script>
                            (adsbygoogle = window.adsbygoogle || []).push({});
                            </script>
                        </div>
                        <br/><br/>
                        <!-- /Adsense -->

                         <!-- Publicite AK -->
                        <div id ="pub"  style="width:300px; text-align:left; margin-top:15px;">
                            <div id="ebook">
                                <div style = "color:#A85F16; font-size:1.5em;"><i class="fa fa-book fa-3x"></i> Download R Books</div><br/>
                                    <a href="http://www.sthda.com/english/download/download-6+complete-guide-to-3d-plots-in-r.php" target ="_blank">
                                         <i class ="fa fa-book fa-2x"></i> Complete Guide to 3D Plots in R: Static and interactive 3-dimension graphs</a><br/>

                                    <a href="http://www.sthda.com/english/download/download-5+ggplot2-the-elements-for-elegant-data-visualization-in-r.php" target ="_blank"> <i class ="fa fa-book fa-2x"></i> ggplot2: The Elements for Elegant Data Visualization in R</a><br/>
                                
                                <!--
                                <a href="http://www.sthda.com/english/download/download-6+complete-guide-to-3d-plots-in-r.php" target ="_blank">
                                    <b>3D Plots in R</b> <br/><br/>
                                    <img src="http://www.sthda.com/sthda/RDoc/images/3d-graphic-cover.png"/>
                                </a>
                            -->
                            </div>
                        </div>
                        <br/><br/>
                        <!-- end pub ak-->


                         <div>
                            
                         </div>
                     </div>
                     <div class="sticky-content-spacer"></div>
                    </div>

                    
                
                	<!-- content -->
                    <div style="width:580px; float:right;" id = "ak_main">
                        


                    	<div>
                    		<!-- START HTML -->

  <!--====================== start from here when you copy to sthda================-->  
  <div id="rdoc">

<div id="TOC">
<ul>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#install-r-corrplot-package">Install R corrplot package</a></li>
<li><a href="#data-for-correlation-analysis">Data for correlation analysis</a></li>
<li><a href="#computing-correlation-matrix">Computing correlation matrix</a></li>
<li><a href="#correlogram-visualizing-the-correlation-matrix">Correlogram : Visualizing the correlation matrix</a><ul>
<li><a href="#visualization-methods">Visualization methods</a></li>
<li><a href="#types-of-correlogram-layout">Types of correlogram layout</a></li>
<li><a href="#reordering-the-correlation-matrix">Reordering the correlation matrix</a></li>
<li><a href="#changing-the-color-of-the-correlogram">Changing the color of the correlogram</a></li>
<li><a href="#changing-the-color-and-the-rotation-of-text-labels">Changing the color and the rotation of text labels</a></li>
<li><a href="#combining-correlogram-with-the-significance-test">Combining correlogram with the significance test</a><ul>
<li><a href="#computing-the-p-value-of-correlations">Computing the p-value of correlations</a></li>
<li><a href="#add-significance-level-to-the-correlogram">Add significance level to the correlogram</a></li>
</ul></li>
<li><a href="#customize-the-correlogram">Customize the correlogram</a></li>
</ul></li>
<li><a href="#conclusions">Conclusions</a></li>
<li><a href="#infos">Infos</a></li>
</ul>
</div>

<p><br/><br/></p>
<div id="introduction" class="section level1">
<h1>Introduction</h1>
<p>This article describes how to plot a <strong>correlogram</strong> in R. <strong>Correlogram</strong> is a <strong>graph of correlation matrix</strong>. It is very useful to highlight the most correlated variables in a data table. In this plot, <strong>correlation coefficients</strong> is colored according to the value. <strong>Correlation matrix</strong> can be also reordered according to the degree of association between variables. The R <strong>corrplot</strong> package is used here.</p>
<div class="block">
<i class="fa - fa-cogs fa-4x valign_middle"></i> Note that online software is also available <a href="http://www.sthda.com/english/rsthda/correlation-matrix.php">here</a> to compute <strong>correlation matrix</strong> and to plot a <strong>correlogram</strong> without any installation.
</div>
</div>
<div id="install-r-corrplot-package" class="section level1">
<h1>Install R corrplot package</h1>
<p><a href="http://cran.r-project.org/web/packages/corrplot/index.html"><strong>corrplot</strong></a> package is required to execute the R code in this article.</p>
<pre class="r"><code>install.packages(&quot;corrplot&quot;)</code></pre>
</div>
<div id="data-for-correlation-analysis" class="section level1">
<h1>Data for correlation analysis</h1>
<p>The <strong>mtcars</strong> data is used to compute <strong>correlation matrix</strong>.</p>
<pre class="r"><code>head(mtcars)</code></pre>
<pre><code>                   mpg cyl disp  hp drat    wt  qsec vs am gear carb
Mazda RX4         21.0   6  160 110 3.90 2.620 16.46  0  1    4    4
Mazda RX4 Wag     21.0   6  160 110 3.90 2.875 17.02  0  1    4    4
Datsun 710        22.8   4  108  93 3.85 2.320 18.61  1  1    4    1
Hornet 4 Drive    21.4   6  258 110 3.08 3.215 19.44  1  0    3    1
Hornet Sportabout 18.7   8  360 175 3.15 3.440 17.02  0  0    3    2
Valiant           18.1   6  225 105 2.76 3.460 20.22  1  0    3    1</code></pre>
</div>
<div id="computing-correlation-matrix" class="section level1">
<h1>Computing correlation matrix</h1>
<pre class="r"><code>M&lt;-cor(mtcars)
head(round(M,2))</code></pre>
<pre><code>       mpg   cyl  disp    hp  drat    wt  qsec    vs    am  gear  carb
mpg   1.00 -0.85 -0.85 -0.78  0.68 -0.87  0.42  0.66  0.60  0.48 -0.55
cyl  -0.85  1.00  0.90  0.83 -0.70  0.78 -0.59 -0.81 -0.52 -0.49  0.53
disp -0.85  0.90  1.00  0.79 -0.71  0.89 -0.43 -0.71 -0.59 -0.56  0.39
hp   -0.78  0.83  0.79  1.00 -0.45  0.66 -0.71 -0.72 -0.24 -0.13  0.75
drat  0.68 -0.70 -0.71 -0.45  1.00 -0.71  0.09  0.44  0.71  0.70 -0.09
wt   -0.87  0.78  0.89  0.66 -0.71  1.00 -0.17 -0.55 -0.69 -0.58  0.43</code></pre>
</div>
<div id="correlogram-visualizing-the-correlation-matrix" class="section level1">
<h1>Correlogram : Visualizing the correlation matrix</h1>
<p>R <strong>corrplot</strong> function is used to plot the <strong>graph of the correlation matrix</strong>.</p>
<p>The simplified format of the function is :</p>
<pre class="r"><code>corrplot(corr, method=&quot;circle&quot;)</code></pre>
<table>
<thead>
<tr class="header">
<th align="left">Arguments</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">corr</td>
<td align="left">The correlation matrix to visualize. To visualize a general matrix, please use is.corr=FALSE.</td>
</tr>
<tr class="even">
<td align="left">method</td>
<td align="left">The visualization method : ìcircleî, ìcolorî, ìnumberî, etc.</td>
</tr>
</tbody>
</table>
<div id="visualization-methods" class="section level2">
<h2>Visualization methods</h2>
<p>Seven different <strong>visualization</strong> methods can be used : ìcircleî, ìsquareî, ìellipseî, ìnumberî, ìshadeî, ìcolorî, ìpieî.</p>
<pre class="r"><code>library(corrplot)
corrplot(M, method=&quot;circle&quot;)</code></pre>
<p><img src="http://www.sthda.com/sthda/RDoc/figure/statistics/visualize-correlation-matrix-using-correlogram-correlogram-methods1.png" title="correlation matrix, correlogram in R, correlation graph" alt="correlation matrix, correlogram in R, correlation graph" width="288" style="margin-bottom:10px;" style="display: block; margin: auto;" /></p>
<pre class="r"><code>corrplot(M, method=&quot;pie&quot;)</code></pre>
<p><img src="http://www.sthda.com/sthda/RDoc/figure/statistics/visualize-correlation-matrix-using-correlogram-correlogram-methods2.png" title="correlation matrix, correlogram in R, correlation graph" alt="correlation matrix, correlogram in R, correlation graph" width="288" style="margin-bottom:10px;" style="display: block; margin: auto;" /></p>
<pre class="r"><code>corrplot(M, method=&quot;color&quot;)</code></pre>
<p><img src="http://www.sthda.com/sthda/RDoc/figure/statistics/visualize-correlation-matrix-using-correlogram-correlogram-methods3.png" title="correlation matrix, correlogram in R, correlation graph" alt="correlation matrix, correlogram in R, correlation graph" width="288" style="margin-bottom:10px;" style="display: block; margin: auto;" /></p>
<p><span class="success"> <strong>Positive correlations</strong> are displayed in blue and <strong>negative correlations</strong> in red color. Color intensity and the size of the circle are proportional to the <strong>correlation coefficients</strong>. </span></p>
<p>Display the <strong>correlation coefficient</strong> :</p>
<pre class="r"><code>corrplot(M, method=&quot;number&quot;)</code></pre>
<p><img src="http://www.sthda.com/sthda/RDoc/figure/statistics/visualize-correlation-matrix-using-correlogram-correlogram-with-coefficients.png" title="correlation matrix, correlogram in R, correlation graph" alt="correlation matrix, correlogram in R, correlation graph" width="384" style="margin-bottom:10px;" style="display: block; margin: auto;" /></p>
</div>
<div id="types-of-correlogram-layout" class="section level2">
<h2>Types of correlogram layout</h2>
<p>There are three types of layout :</p>
<ul>
<li><strong>ìfullî</strong> (default) : display full <strong>correlation matrix</strong></li>
<li><strong>ìupperî</strong>: display upper triangular of the <strong>correlation matrix</strong></li>
<li><strong>ìlowerî</strong>: display lower triangular of the <strong>correlation matrix</strong></li>
</ul>
<pre class="r"><code>corrplot(M, type=&quot;upper&quot;)</code></pre>
<p><img src="http://www.sthda.com/sthda/RDoc/figure/statistics/visualize-correlation-matrix-using-correlogram-upper-triangular1.png" title="correlation matrix, correlogram in R, correlation graph" alt="correlation matrix, correlogram in R, correlation graph" width="288" style="margin-bottom:10px;" style="display: block; margin: auto;" /></p>
<pre class="r"><code>corrplot(M, type=&quot;lower&quot;)</code></pre>
<p><img src="http://www.sthda.com/sthda/RDoc/figure/statistics/visualize-correlation-matrix-using-correlogram-upper-triangular2.png" title="correlation matrix, correlogram in R, correlation graph" alt="correlation matrix, correlogram in R, correlation graph" width="288" style="margin-bottom:10px;" style="display: block; margin: auto;" /></p>
</div>
<div id="reordering-the-correlation-matrix" class="section level2">
<h2>Reordering the correlation matrix</h2>
<p>The <strong>correlation matrix</strong> can be reordered according to the <strong>correlation coefficient</strong>. This is important to identify the hidden structure and pattern in the matrix. <strong>ìhclustî</strong> for hierarchical clustering order is used in the following examples.</p>
<pre class="r"><code># correlogram with hclust reordering
corrplot(M, type=&quot;upper&quot;, order=&quot;hclust&quot;)</code></pre>
<p><img src="http://www.sthda.com/sthda/RDoc/figure/statistics/visualize-correlation-matrix-using-correlogram-reorder-correlation-matrix1.png" title="correlation matrix, correlogram in R, correlation graph" alt="correlation matrix, correlogram in R, correlation graph" width="240" style="margin-bottom:10px;" style="display: block; margin: auto;" /></p>
<pre class="r"><code># Using different color spectrum
col&lt;- colorRampPalette(c(&quot;red&quot;, &quot;white&quot;, &quot;blue&quot;))(20)
corrplot(M, type=&quot;upper&quot;, order=&quot;hclust&quot;, col=col)</code></pre>
<p><img src="http://www.sthda.com/sthda/RDoc/figure/statistics/visualize-correlation-matrix-using-correlogram-reorder-correlation-matrix2.png" title="correlation matrix, correlogram in R, correlation graph" alt="correlation matrix, correlogram in R, correlation graph" width="240" style="margin-bottom:10px;" style="display: block; margin: auto;" /></p>
<pre class="r"><code># Change background color to lightblue
corrplot(M, type=&quot;upper&quot;, order=&quot;hclust&quot;, col=c(&quot;black&quot;, &quot;white&quot;),
         bg=&quot;lightblue&quot;)</code></pre>
<p><img src="http://www.sthda.com/sthda/RDoc/figure/statistics/visualize-correlation-matrix-using-correlogram-reorder-correlation-matrix3.png" title="correlation matrix, correlogram in R, correlation graph" alt="correlation matrix, correlogram in R, correlation graph" width="240" style="margin-bottom:10px;" style="display: block; margin: auto;" /></p>
</div>
<div id="changing-the-color-of-the-correlogram" class="section level2">
<h2>Changing the color of the correlogram</h2>
<p>As shown in the above section, the color of the correlogram can be customized. <strong>RcolorBrewer</strong> palette of colors are used in the R script below :</p>
<pre class="r"><code>library(RColorBrewer)
corrplot(M, type=&quot;upper&quot;, order=&quot;hclust&quot;, 
         col=brewer.pal(n=8, name=&quot;RdBu&quot;))</code></pre>
<p><img src="http://www.sthda.com/sthda/RDoc/figure/statistics/visualize-correlation-matrix-using-correlogram-brewerpalette1.png" title="correlation matrix, correlogram in R, correlation graph" alt="correlation matrix, correlogram in R, correlation graph" width="288" style="margin-bottom:10px;" style="display: block; margin: auto;" /></p>
<pre class="r"><code>corrplot(M, type=&quot;upper&quot;, order=&quot;hclust&quot;,
         col=brewer.pal(n=8, name=&quot;RdYlBu&quot;))</code></pre>
<p><img src="http://www.sthda.com/sthda/RDoc/figure/statistics/visualize-correlation-matrix-using-correlogram-brewerpalette2.png" title="correlation matrix, correlogram in R, correlation graph" alt="correlation matrix, correlogram in R, correlation graph" width="288" style="margin-bottom:10px;" style="display: block; margin: auto;" /></p>
<pre class="r"><code>corrplot(M, type=&quot;upper&quot;, order=&quot;hclust&quot;,
         col=brewer.pal(n=8, name=&quot;PuOr&quot;))</code></pre>
<p><img src="http://www.sthda.com/sthda/RDoc/figure/statistics/visualize-correlation-matrix-using-correlogram-brewerpalette3.png" title="correlation matrix, correlogram in R, correlation graph" alt="correlation matrix, correlogram in R, correlation graph" width="288" style="margin-bottom:10px;" style="display: block; margin: auto;" /></p>
</div>
<div id="changing-the-color-and-the-rotation-of-text-labels" class="section level2">
<h2>Changing the color and the rotation of text labels</h2>
<p><strong>tl.col</strong> (for text label color) and <strong>tl.srt</strong> (for text label string rotation) are used to change text colors and rotations.</p>
<pre class="r"><code>corrplot(M, type=&quot;upper&quot;, order=&quot;hclust&quot;, tl.col=&quot;black&quot;, tl.srt=45)</code></pre>
<p><img src="http://www.sthda.com/sthda/RDoc/figure/statistics/visualize-correlation-matrix-using-correlogram-color-and-text.png" title="correlation matrix, correlogram in R, correlation graph" alt="correlation matrix, correlogram in R, correlation graph" width="288" style="margin-bottom:10px;" style="display: block; margin: auto;" /></p>
</div>
<div id="combining-correlogram-with-the-significance-test" class="section level2">
<h2>Combining correlogram with the significance test</h2>
<div id="computing-the-p-value-of-correlations" class="section level3">
<h3>Computing the p-value of correlations</h3>
<p>To <strong>compute the matrix of p-value</strong>, a custom R function is used :</p>
<pre class="r"><code># mat : is a matrix of data
# ... : further arguments to pass to the native R cor.test function
cor.mtest &lt;- function(mat, ...) {
    mat &lt;- as.matrix(mat)
    n &lt;- ncol(mat)
    p.mat&lt;- matrix(NA, n, n)
    diag(p.mat) &lt;- 0
    for (i in 1:(n - 1)) {
        for (j in (i + 1):n) {
            tmp &lt;- cor.test(mat[, i], mat[, j], ...)
            p.mat[i, j] &lt;- p.mat[j, i] &lt;- tmp$p.value
        }
    }
  colnames(p.mat) &lt;- rownames(p.mat) &lt;- colnames(mat)
  p.mat
}
# matrix of the p-value of the correlation
p.mat &lt;- cor.mtest(mtcars)
head(p.mat[, 1:5])</code></pre>
<pre><code>           mpg       cyl      disp        hp      drat
mpg  0.000e+00 6.113e-10 9.380e-10 1.788e-07 1.776e-05
cyl  6.113e-10 0.000e+00 1.803e-12 3.478e-09 8.245e-06
disp 9.380e-10 1.803e-12 0.000e+00 7.143e-08 5.282e-06
hp   1.788e-07 3.478e-09 7.143e-08 0.000e+00 9.989e-03
drat 1.776e-05 8.245e-06 5.282e-06 9.989e-03 0.000e+00
wt   1.294e-10 1.218e-07 1.222e-11 4.146e-05 4.784e-06</code></pre>
</div>
<div id="add-significance-level-to-the-correlogram" class="section level3">
<h3>Add significance level to the correlogram</h3>
<pre class="r"><code># Specialized the insignificant value according to the significant level
corrplot(M, type=&quot;upper&quot;, order=&quot;hclust&quot;, 
         p.mat = p.mat, sig.level = 0.01)</code></pre>
<p><img src="http://www.sthda.com/sthda/RDoc/figure/statistics/visualize-correlation-matrix-using-correlogram-correlogram-with-p-value1.png" title="correlation matrix, correlogram in R, correlation graph" alt="correlation matrix, correlogram in R, correlation graph" width="288" style="margin-bottom:10px;" style="display: block; margin: auto;" /></p>
<pre class="r"><code># Leave blank on no significant coefficient
corrplot(M, type=&quot;upper&quot;, order=&quot;hclust&quot;, 
         p.mat = p.mat, sig.level = 0.01, insig = &quot;blank&quot;)</code></pre>
<p><img src="http://www.sthda.com/sthda/RDoc/figure/statistics/visualize-correlation-matrix-using-correlogram-correlogram-with-p-value2.png" title="correlation matrix, correlogram in R, correlation graph" alt="correlation matrix, correlogram in R, correlation graph" width="288" style="margin-bottom:10px;" style="display: block; margin: auto;" /></p>
<p>In the above figure, <strong>correlations</strong> with <strong>p-value</strong> &gt; 0.01 are considered as insignificant. In this case the <strong>correlation coefficient values</strong> are leaved blank or crosses are added.</p>
</div>
</div>
<div id="customize-the-correlogram" class="section level2">
<h2>Customize the correlogram</h2>
<pre class="r"><code>col &lt;- colorRampPalette(c(&quot;#BB4444&quot;, &quot;#EE9988&quot;, &quot;#FFFFFF&quot;, &quot;#77AADD&quot;, &quot;#4477AA&quot;))
corrplot(M, method=&quot;color&quot;, col=col(200),  
         type=&quot;upper&quot;, order=&quot;hclust&quot;, 
         addCoef.col = &quot;black&quot;, # Add coefficient of correlation
         tl.col=&quot;black&quot;, tl.srt=45, #Text label color and rotation
         # Combine with significance
         p.mat = p.mat, sig.level = 0.01, insig = &quot;blank&quot;, 
         # hide correlation coefficient on the principal diagonal
         diag=FALSE 
         )</code></pre>
<p><img src="http://www.sthda.com/sthda/RDoc/figure/statistics/visualize-correlation-matrix-using-correlogram-customize-correlogram.png" title="correlation matrix, correlogram in R, correlation graph" alt="correlation matrix, correlogram in R, correlation graph" width="384" style="margin-bottom:10px;" style="display: block; margin: auto;" /></p>
</div>
</div>
<div id="conclusions" class="section level1">
<h1>Conclusions</h1>
<div class="block">
Use <strong>corrplot()</strong> R function to plot an elegant <strong>graph of a correlation matrix</strong>.
</div>
</div>
<div id="infos" class="section level1">
<h1>Infos</h1>
<p><strong>References</strong>: <a href="http://cran.r-project.org/web/packages/corrplot/vignettes/corrplot-intro.html">corrplot intro</a></p>
<pre class="warning"><code>This analysis was performed using R (ver. 3.1.0).</code></pre>
</div>

<script>jQuery(document).ready(function () {
	jQuery('h1').addClass('wiki_paragraph1');
	jQuery('h2').addClass('wiki_paragraph2');
	jQuery('h3').addClass('wiki_paragraph3');
	jQuery('h4').addClass('wiki_paragraph4');
	});//add phpboost class to header</script>
<style>.content{padding:0px;}</style>
</div><!--end rdoc-->
<!--====================== stop here when you copy to sthda================-->



<!-- END HTML -->
                        </div>
                        <br/>
                        <br/>
                        <!-- laddthis, ike -->
                        <div class="addthis_native_toolbox"></div>

                        <br/>
                        <br/> 
                        <div>
							<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
                            <!-- lien_200X90 -->
                            <ins class="adsbygoogle"
                                 style="display:inline-block;width:200px;height:90px"
                                 data-ad-client="ca-pub-5474463749888038"
                                 data-ad-slot="7994647366"></ins>
                            <script>
                            (adsbygoogle = window.adsbygoogle || []).push({});
                            </script>
                        </div>
                        <br/><br/>
                        
                        <center>


                            <br/><br/><br/>
                             <div>
                                <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
                                <!-- 336X280_text_only -->
                                <ins class="adsbygoogle"
                                     style="display:inline-block;width:336px;height:280px"
                                     data-ad-client="ca-pub-5474463749888038"
                                     data-ad-slot="4090131761"></ins>
                                <script>
                                (adsbygoogle = window.adsbygoogle || []).push({});
                                </script>
                            </div>

                        </center>


                     </div>
                     <!-- end of content -->
                    
                   
                    <div style="clear:both;"></div>
               </div> <!--end of sticky-parent-->
                
                
                <!-- ===========Add by AKASSAMBARA ============
                 -->
                 
             <div>
             
             
             	<br/>
                
                
                <!-- get involved -->
                <div class="block get_involved">
                	<strong><i class="fa fa-2x fa-group"></i>&nbsp;Get involved : </strong><br/>
            	 	<i class="fa fa-share fa-2x"></i>&nbsp;
                    	Click to <b>follow us</b> on <a href="https://www.facebook.com/1570814953153056" class="facebook" target="_blank">Facebook</a> and 
                         <a href="https://plus.google.com/108962828449690000520" rel="publisher">Google+</a> : 
                         <a href="https://www.facebook.com/1570814953153056" class="facebook" target="_blank"><i class="fa fa-facebook-square fa-2x"></i></a>&nbsp;&nbsp;
                        <a href="https://plus.google.com/108962828449690000520" rel="publisher" class="google" target="_blank"><i class="fa fa-google-plus-square fa-2x"></i></a><br/>
                        
                     <i class="fa fa-comment fa-2x"></i>&nbsp; <b>Comment this article</b> by clicking on "Discussion" button (top-right position of this page)<br/>
                     <i class="fa fa-user fa-2x"></i>&nbsp; <a href="../user/registration/">Sign up as a member</a> and post <a href="how-to-contribute-to-sthda-web-site">news and articles</a> on STHDA web site.<br/>
            	 </div>
               </div>
                 
                            
                <!--=============== Related articles================ -->
                <br/><br/>
                 
                    <!--articles dans la m√™me categorie -->
                    <div class="related_article">
                        <h1 class="wiki_paragraph1">Suggestions</h1> <br/>
                          
                        <div>
                             <i class="fa fa-file"></i> <a href="correlation-matrix-a-quick-start-guide-to-analyze-format-and-visualize-a-correlation-matrix-using-r-software">Correlation matrix : A quick start guide to analyze, format and visualize a correlation matrix using R software</a><br /> <i class="fa fa-file"></i> <a href="correlation-matrix-an-r-function-to-do-all-you-need">Correlation matrix : An R function to do all you need</a><br /> <i class="fa fa-file"></i> <a href="elegant-correlation-table-using-xtable-r-package">Elegant correlation table using xtable R package</a><br /> <i class="fa fa-file"></i> <a href="correlation-analysis">Correlation analysis</a><br /> <i class="fa fa-file"></i> <a href="correlation">Correlation</a><br /> <i class="fa fa-file"></i> <a href="correlation-matrix-formatting-and-visualization">Correlation matrix : Formatting and visualization</a><br /> <i class="fa fa-file"></i> <a href="correlation-coefficient-calculator">Correlation coefficient calculator</a><br /> <i class="fa fa-file"></i> <a href="visualize-correlation-matrix-using-symnum-function">Visualize correlation matrix using symnum function</a><br /> <i class="fa fa-file"></i> <a href="correlation-matrix-how-to-make-a-heatmap">Correlation matrix : How to make a heatmap ?</a><br /> <i class="fa fa-file"></i> <a href="correlation-coefficient-calculator-the-top-3-you-should-know">Correlation coefficient calculator : the top 3 you should know</a><br /> <i class="fa fa-file"></i> <a href="correlation-formula">correlation formula</a><br /> <i class="fa fa-file"></i> <a href="correlation-coefficient">Correlation coefficient</a><br />
                         </div>
                    </div>
                    <br/>
                    <div>
                       <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
                        <!-- 728X90 -->
                        <ins class="adsbygoogle"
                             style="display:inline-block;width:728px;height:90px"
                             data-ad-client="ca-pub-5474463749888038"
                             data-ad-slot="6756867106"></ins>
                        <script>
                        (adsbygoogle = window.adsbygoogle || []).push({});
                        </script>
                    </div>
                
                
                 
             <!-- ======================END of related articles =================-->
             
            
            
             
             
          </div>
                      
                
				
				<div class="spacer" style="margin-top:30px;">&nbsp;</div>
			</div>
			<footer>
				<div style="text-align:center;margin-top:8px;margin-bottom:10px;">This page has been seen 21821 times</div>
			</footer>
		</article>
        
        
  
  
  <script type="text/javascript">
  jQuery(document).ready(function(){
	 jQuery("#aksidebar, #ak_main").stick_in_parent({parent: "#sticky-parent", spacer: ".sticky-content-spacer"});

	//involv visitors
	 setGetInvolvedBlock(getLang());
	}); 
</script> 

</div>

			</div>
			
		</div>
		
		<div id="top-footer">
			
<div id="newsletter">
	<form action="/english/newsletter/?url=/subscribe/" method="post">
		<div class="newsletter-form input-element-button">
			<span class="newsletter-title">Newsletter</span> 
			<input type="text" name="mail_newsletter" maxlength="50" value="" placeholder="Email">
			<input type="hidden" name="subscribe" value="subscribe">
			<input type="hidden" name="token" value="1c414bad7bba161b">
			<button type="submit" class="newsletter-submit"><i class="fa fa-envelope-o"></i></button>
		</div>
	</form>
</div>

			<div class="spacer"></div>
		</div>
		
		
		<div class="spacer"></div>
	</div>
    
	<footer id="footer">
		
		<div class="footer-infos">
        
        	<div id="footer_columns_container">
		
        		<!--
                <div class="footer_columns">
                    <div class="footer_columns_title"> 
                        <img src="/english/templates/sthda/theme/images/icones/connexion-et-inscription.png" align="middle">
                        Inscrivez-vous
                    </div>
                    <ul>
                        <li><a href="/user/connect">Connectez-vous</a></li>
                        <li><a href="/user/registration">Cr√©er un compte</a></li>
                        <li><a href="/user/password/lost">Mot de passe oubli√© ?</a></li>
    
                    </ul>
                </div>	
                
                 <div class="footer_columns">
                    <div class="footer_columns_title"> 
                        <img src="/english/templates/sthda/theme/images/icones/connexion-et-inscription.png" align="middle">
                        Inscrivez-vous
                    </div>
                    <ul>
                        <li><a href="/user/connect">Connectez-vous</a></li>
                        <li><a href="/user/registration">Cr√©er un compte</a></li>
                        <li><a href="/user/password/lost">Mot de passe oubli√© ?</a></li>
    
                    </ul>
                </div>	
                
                 <div class="footer_columns">
                    <div class="footer_columns_title"> 
                        <img src="/english/templates/sthda/theme/images/icones/connexion-et-inscription.png" align="middle">
                        Inscrivez-vous
                    </div>
                    <ul>
                        <li><a href="/user/connect">Connectez-vous</a></li>
                        <li><a href="/user/registration">Cr√©er un compte</a></li>
                        <li><a href="/user/password/lost">Mot de passe oubli√© ?</a></li>
    
                    </ul>
                </div>	
                
            </div>
            
            <div style="clear:both;"></div
            -->
            
            <span>
            	<a href="/english/sitemap/">Sitemap</a> |
        	</span>
			<span>
				Boosted by <a href="http://www.phpboost.com" title="PHPBoost">PHPBoost 4.0</a> 
			</span>	
			
			
		</div>
	</footer>
    
     <!-- JQwidgets
    =============================== -->  
    <link rel="stylesheet" href="/english/rsthda/templates/scripts/jqwidgets-ver3.5.0//styles/jqx.base.css" type="text/css" />
    <link rel="stylesheet" href="/english/rsthda/templates/scripts/jqwidgets-ver3.5.0//styles/jqx.ui-start.css" type="text/css" />
    <script type="text/javascript" src="/english/rsthda/templates/scripts/jqwidgets-ver3.5.0/jqxcore.js"></script>
    <script type="text/javascript" src="/english/rsthda/templates/scripts/jqwidgets-ver3.5.0/jqxmenu.js"></script>
    <script type="text/javascript" src="/english/rsthda/templates/scripts/jqwidgets-ver3.5.0/jqxbuttons.js"></script>

    <!--- ak -->
    <script type="text/javascript" src="/english/templates/sthda/ak/global.js"></script>
    <script type="text/javascript" src="/english/sthda/js/jquery.sticky-kit.min.js"></script><!--fixation d'un div -->
    
       <!-- GOOgle doc viewer : permet de visualiser des documents embarqu√©s online
    http://www.jawish.org/blog/archives/394-Google-Docs-Viewer-plugin-for-jQuery.html
    https://docs.google.com/viewer
    -->
    <script type="text/javascript" src="/english/sthda/js/jquery.gdocsviewer.min.js"></script>
    <script type="text/javascript"> 
    /*<![CDATA[*/
    
    jQuery(document).ready(function() {
       if(jQuery('a.embed').length!=0) jQuery('a.embed').gdocsViewer({width: "98%", height: 600});
        if(jQuery('a.view').length!=0) jQuery('a.view').gdocsViewer({width: "98%", height: 600});
    });
    /*]]>*/
    </script>  
    
     <!-- R knitr -->
    <link rel="stylesheet" href="/english/sthda/RDoc/libs/style.css"/>
    <script src="/english/sthda/RDoc/libs/highlight.js"></script>
    <script type="text/javascript">
    if (window.hljs && document.readyState && document.readyState === "complete") {
       window.setTimeout(function() {
          hljs.initHighlighting();
       }, 0);
    }
    </script>
   
     <!--=================================
     Generer automatiquement une table des mati√®re (TOC)
     #Utilisation : placer <ul id="toc"></ul> ou <ol id="toc"></ol> √† l'endroit de votre page o√π vous souhaitez mettre la table des mati√®res
     #Lien : http://fuelyourcoding.com/scripts/toc/index.html
    ================================= -->
    <script type="text/javascript" src="/english/sthda/js/jquery.tableofcontents.min.js"></script>
    <script type="text/javascript"> 
    /*<![CDATA[*/
        jQuery(document).ready(function(){ 
        if(jQuery('ul#toc').length!=0) {
            jQuery("ul#toc").tableOfContents(
                null,                        // Default scoping
                    {
                      startLevel:           2,   // H2
                      depth:                3,   // H1 through 3
                      
                    }
            ); 
        }
        });
    /*]]>*/
    </script>

     <style>
    ul#toc{
        float: right;font-size: 10pt;
        width: 270px;padding: 10px 10px 10px 20px;border: solid 1px #ccd136;margin: 0 0 10px 15px;border: 1px solid #CCCCCC;
        border-radius: 5px;box-shadow: 2px 2px 10px -2px #666666;background-color: #f6f6f6;
    }
    /*fait un retrait √† chaque niveau hi√©rarchique*/	
    #toc ul,  #toc ol{padding-left:30px;}
    </style>
 <!--================END TOC================= --> 

 
 
 
 <!-- Go to www.addthis.com/dashboard to customize your tools 
 right side-->
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-50f0e98f7770f530"></script>
<!-- Recommended for you->
<!-- Go to www.addthis.com/dashboard to customize your tools -->
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-50f0e98f7770f530" async></script>
<!-- Go to www.addthis.com/dashboard to customize your tools -->
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-50f0e98f7770f530" async></script>



				<script src="/english/kernel/lib/js/bottom.js"></script>
		<!--[if lt IE 9]>
		<script async src="/english/kernel/lib/js/html5shiv/html5shiv.js"></script>
		<![endif]-->
		<script>
		<!-- 
			$$('[data-confirmation]').each(function(a) {
				var data_confirmation = a.readAttribute('data-confirmation');
				
				if (data_confirmation == 'delete-element')
					var message = 'Do you really want to delete this item ?';
				else
					var message = data_confirmation;

				a.onclick = function () { return confirm(message); }
			}); 
		-->
		</script>
	</body>
</html>